<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>AJAX Content</title>
</head>
<body>    
    <div id="bt1" style="padding:5px;">
        <!--<span>Record Count:</span>
        <input id="total" class="easyui-numberbox" value="10050" min="10050" max="10050">-->
        <a href="javascript:void(0)" class="easyui-linkbutton" iconCls="icon-reload" onclick="loaddata()">Load</a>
    </div>
    <table id="ttl" style="height:100%;"
            singleSelect="true"
            title="Load Large Data" iconCls="icon-ok" autoRowHeight="true"
			data-options="rownumbers:true,method:'get',toolbar:'#bt1'">
        <thead>
            <tr>
                <th field="inv" width="80">Inv No</th>
                <th field="date" width="120">Date</th>
                <th field="name" width="80">Name</th>
                <th field="amount" width="80" align="right">Amount</th>
                <th field="price" width="80" align="right">Price</th>
                <th field="cost" width="100" align="right">Cost</th>
                <th field="note" width="130">Note</th>
            </tr>
        </thead>
    </table>
    <script type="text/javascript">
		$(function(){
			$('#ttl').datagrid();
			var date1;  //开始时间
			$('#ttl').datagrid({
				onBeforeLoad:function(){
					date1=new Date();
					console.log(date1)
				},
				onLoadSuccess:function(data){
					var date2=new Date();    //结束时间
					var date3=(date2.getTime()-date1.getTime())/1000  //时间差的毫秒数
					$.messager.show({
						title:'Info',
						msg:'Load '+data.total+' records successfully time consuming: ' + date3 + 's'
					});
				}
			});
		});
		function loaddata(){
			$('#ttl').datagrid({
				//total: $('#total').numberbox('getValue'),
				url: 'server/json/datagrid25_getdata.json'
			});
			$('#ttl').datagrid('load');
		}
   </script>
</body>
</html>