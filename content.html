<div id="tb" style="padding:5px;height:auto">
	<div>
		<a href="#" onclick="alert($('#stocklist').combogrid('getValue'))" class="easyui-linkbutton" iconCls="icon-add" plain="true"></a>
		<a href="#" class="easyui-linkbutton" iconCls="icon-edit" plain="true"></a>
		<a href="#" onclick="console.log($('#t1').datagrid('getData'))" class="easyui-linkbutton" iconCls="icon-save" plain="true"></a>
		<a href="#" class="easyui-linkbutton" iconCls="icon-cut" plain="true"></a>
		<a href="#" class="easyui-linkbutton" iconCls="icon-remove" plain="true"></a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true,iconCls:'icon-cancel'">Cancel</a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true,iconCls:'icon-reload'">Refresh</a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true,iconCls:'icon-search'">Search</a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true">Text Button</a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true,iconCls:'icon-print'">打印</a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true,iconCls:'icon-help'"> </a>
		<a href="#" class="easyui-linkbutton" data-options="plain:true,iconCls:'icon-back'"></a>
	</div>
	<div>
		单据日期: <input class="easyui-datebox" style="width:120px">
		仓库: <div id="stocklist"></div>
		客户: <div id="customlist"></div>
		类型：<div id="typelist"></div>
	</div>
</div>
<div id="t1"></div>
<script type="text/javascript">
	easyloader.load(['combogrid', 'datagridscrollview', 'droplist', 'combobox','datagridkeyboard'], function(){
		$('#t1').datagrid({
			//view:scrollview,
			//pageSize:50,
			remoteSort:false,
			rownumbers:true,
			singleSelect:true,
			pagination:false,
			border:false,
			fit:false,
			fitColumns:false,
			striped:true,
			url:'server/json/datagrid_data1.json?v=' + (new Date()).getTime(),
			method:'get',
			toolbar:'#tb',
			remoteSort:false,
			multiSort:true,
			checkOnSelect:false,
			columns:[[
				//{field:'',checkbox:true},
				{field:'itemid',title:'编号',width:80,sortable:true},
				{field:'productname',title:'产品名称',width:100,editor:'text',sortable:true},
				{field:'listprice',title:'单价',width:80,align:'right',editor:{type:'numberbox',options:{precision:1}},sortable:true},
				{field:'unitcost',title:'成本',width:80,align:'right',editor:{type:'numberbox',options:{precision:1}},sortable:true},
				{field:'attr1',title:'属性',width:80,align:'left',editor:{type:'text',onChange:function(){console.log('123321eee')},option:{disabled:false,buttonText:'Search',iconCls:'icon-man',iconAlign:'right',iconWidth:50}},sortable:true},
				{field:'status',title:'删除',formatter: function(value,row,index){if(value){return '√';}else{return '';}},width:60,align:'center',editor:{type:'checkbox',options:{on:'√',off:''}},sortable:true},
				{field:'date',title:'日期',width:100,editor:{type:'datebox'},sortable:true},
				{field:'istype',title:'类型',width:120,editor:{type:'combobox', option:{
					valueField: 'itemid',
					textField: 'productname',
					url:'server/json/datagrid_data1.json'
				}},sortable:true}
			]],
			height: '100%'
		});
		$('#typelist').combobox({
			valueField: 'inv',
			textField: 'name',
			url:'server/json/datagrid27_getdata.json?v=' + (new Date()).getTime()
		});
		$('#stocklist').combogrid({
			panelWidth: 300,
			width:150,
			idField: 'inv',
			textField: 'name',
			striped:true,
			pagination:false,
			required:true,
			validType:'combogridValue[stocklist]',
			pagePosition:'bottom',
			asynurl:'server/json/datagrid25_getdata.json',
			editable: true,
			rownumbers:true,
			columns: [[
				{field:'inv',title:'仓库编号',width:80,search:true},
				{field:'name',title:'仓库名称',width:120,search:true},
				{field:'searchcode',hidden:true,search:true},
			]],
			fitColumns: false,
			filter: function(q, row){
				return row['inv'].indexOf(q) >-1 || row['name'].indexOf(q) >-1;
			}
		});
		$('#customlist').combogrid({
			panelWidth: 300,
			width:150,
			idField: 'productid',
			textField: 'productname',
			required:true,
			validType:'combogridValue[customlist]',
			asynurl: 'server/json/datagrid_data1.json',
			columns: [[
				{field:'productid',title:'客户编号',width:80,search:true},
				{field:'productname',title:'客户名称',width:120,search:true}
			]],
			fitColumns: true
		});
	});
	
</script>