<script type="text/javascript">
	easyloader.load(['propertygrid', 'datetimebox', 'datagridkeyboard'], function(){
		var mapitem = $('<div>'),
			storage = $('<div>'),
			tabs = $('#center').tabs('getSelected'),
			tab = tabs.panel('options'),
			Paramet = getMenuParameter(tabs),
			layout = tabs.find('.layout'),
			eastPanel = layout.layout('panel', 'east'),
			mycolumns = [[
				{field:'name',title:'名称',width:100,resizable:true,sortable:true},
				{field:'value',title:'值',width:100,resizable:true}
			]],
			newBtn = $('<a>'),
			saveBtn = $('<a>'),
			saveasBtn = $('<a>'),
			delBtn = $('<a>'),
			reBtn = $('<a>');
				
		eastPanel.append(newBtn)
			.append(saveBtn)
			.append(saveasBtn)
			.append(delBtn)
			.append(reBtn)
			.append(mapitem);
		
		newBtn.linkbutton({
			text:'新建'
		}).addClass('l-btn-plain').css({margin:'2px',marginRight:'0px'});
		
		saveBtn.linkbutton({
			text:'保存'
		}).addClass('l-btn-plain').css({margin:'2px',marginRight:'0px'}).bind('click', function(){
			console.log(storage.datagrid('getData'));
		});
		
		saveasBtn.linkbutton({
			text:'另存为'
		}).addClass('l-btn-plain').css({margin:'2px',marginRight:'0px'});
		
		delBtn.linkbutton({
			text:'删除',
			disabled:true
		}).addClass('l-btn-plain').css({margin:'2px',marginRight:'0px'});
		
		reBtn.linkbutton({
			text:'恢复',
			disabled:true
		}).addClass('l-btn-plain').css({margin:'2px',marginRight:'0px'});
		
		mapitem.tabs({
			border:false,
			width:'100%',
			height:eastPanel.height()-30,
			plain:true
		});
		
		mapitem.tabs('add', {
			title: '基本资料',
			content: storage,
			selected: true
		});
		
		storage.propertygrid({
			url: 'server/'+Paramet.mode+'/load/?v=' + (new Date()).getTime(),
			showGroup: true,
			width:'100%',
			height:'100%',
			border:false,
			columns: mycolumns
		});
	});
	
</script>
